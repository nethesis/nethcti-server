{
    use NethServer::Directory;
    my $ldapBase = ${'nethcti-server'}{'LdapBaseDN'} || NethServer::Directory::getInternalSuffix();
    my $ldapOu = ${'nethcti-server'}{'LdapOu'} || "People";
    my $ldapPort = ${'nethcti-server'}{'LdapPort'} || "389";
    my $ldapServer = ${'nethcti-server'}{'LdapServer'} || "localhost";
    my $authType = ${'nethcti-server'}{'AuthType'} || "ldap";
    my $ldap = "";

    if ($authType eq "ldap" or $authType eq "activeDirectory") {
        $ldap = "\"ldap\": \{
        \"ou\": \"$ldapOu\",
        \"baseDn\": \"$ldapBase\",
        \"port\": \"$ldapPort\",
        \"server\": \"$ldapServer\"
    \},";
    }

    $OUT = '{
    "type":   "' . $authType . '",
    ' . $ldap . '
    "file": {
        "path": "/etc/nethcti/users.json"
    },
    "expiration_timeout": "3600"
}';
}
