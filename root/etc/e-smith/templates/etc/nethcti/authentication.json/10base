{
    my $ldapBase = ${'nethcti-server'}{'LdapBaseDN'} || 'dc=directory,dc=nh';
    my $ldapOu = ${'nethcti-server'}{'LdapOu'} || "People";
    my $ldapPort = ${'nethcti-server'}{'LdapPort'} || "389";
    my $ldapServer = ${'nethcti-server'}{'LdapServer'} || "localhost";
    my $ldapsSelfSigned = ${'nethcti-server'}{'LdapsSelfSigned'} || "false";
    my $authType = ${'nethcti-server'}{'AuthType'} || "ldap";
    my $unAutheCall = ${'nethcti-server'}{'UnAutheCall'} || "disabled";
    my $ldap = "";

    if ($authType eq "ldap" or $authType eq "activeDirectory") {
        $ldap = "\"ldap\": \{
        \"ou\": \"$ldapOu\",
        \"baseDn\": \"$ldapBase\",
        \"port\": \"$ldapPort\",
        \"server\": \"$ldapServer\",
        \"selfSigned\": \"$ldapsSelfSigned\"
    \},";
    }

    $OUT = '{
    "type":   "' . $authType . '",
    ' . $ldap . '
    "file": {
        "path": "/etc/nethcti/users.json"
    },
    "expiration_timeout": "3600",
    "unauthe_call": "' . $unAutheCall .'"
}';
}
