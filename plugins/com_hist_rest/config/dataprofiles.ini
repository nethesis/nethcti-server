; Asterisk CTI template - AUTO-GENERATED FILE, DO NOT MODIFY

[customer_card_calls]
dbhost=localhost
dbport=/var/lib/mysql/mysql.sock
dbtype=mysql
dbuser=asteriskuser
dbpassword=UQkaeNz
dbname=asteriskcdrdb
query=select date_format(calldate,'%d/%m/%Y') as date, date_format(calldate,'%H:%i:%S') as time, clid, src, dst, uniqueid,duration, time_format(billsec, '%H:%i:%S') as billsec, disposition,if(src='$EXTEN','in','out') as direction from cdr where (src = '$EXTEN' or dst = '$EXTEN') and disposition = 'ANSWERED' order by calldate desc limit 0,10 calls

[customer_card_default]
dbhost=localhost
dbport=/var/lib/mysql/mysql.sock
dbtype=mysql
dbuser=pbookuser
dbpassword=pbookpass
dbname=phonebook
query=select * from phonebook where homephone like '%$EXTEN' or workphone like '%$EXTEN' or cellphone like '%$EXTEN' or fax like '%$EXTEN'

; Asterisk CTI template - AUTO-GENERATED FILE, DO NOT MODIFY


[phonebook]
dbhost=localhost
dbport=/var/lib/mysql/mysql.sock
dbtype=mysql
dbuser=pbookuser
dbpassword=pbookpass
dbname=phonebook
query=select * from phonebook where name like "%$NAME_TO_REPLACE%" or company like '%$NAME_TO_REPLACE%' or workphone like '%$NAME_TO_REPLACE%' or homephone like '%$NAME_TO_REPLACE%' or cellphone like '%$NAME_TO_REPLACE%' order by name ASC, company ASC


[day_history_call]
dbhost=localhost
dbport=/var/lib/mysql/mysql.sock
dbtype=mysql
dbuser=asteriskuser
dbpassword=UQkaeNz
dbname=asteriskcdrdb
query=select date_format(calldate,'%d/%m/%Y') as date, date_format(calldate,'%H:%i:%S') as time, clid, src, dst, channel, dstchannel, uniqueid,duration,billsec,disposition,dcontext from cdr where ( (channel like '%/$EXTEN%' OR dstchannel like '%/$EXTEN%' ) AND DATE(calldate)='$DATE' AND (src like '$NUM' OR clid like '$NUM' OR dst like '$NUM'))

[current_week_history_call]
dbhost=localhost
dbport=/var/lib/mysql/mysql.sock
dbtype=mysql
dbuser=asteriskuser
dbpassword=UQkaeNz
dbname=asteriskcdrdb
query=select date_format(calldate,'%d/%m/%Y') as date, date_format(calldate,'%H:%i:%S') as time, clid, src, dst, channel, dstchannel, uniqueid,duration,billsec,disposition,dcontext from cdr where ( (channel like '%/$EXTEN%' OR dstchannel like '%/$EXTEN%' ) AND ( DATE(calldate)>=(DATE_SUB(CURDATE(), INTERVAL DAYOFWEEK( CURDATE() )-2 DAY)) ) AND (src like '$NUM' OR clid like '$NUM' OR dst like '$NUM'))

[current_month_history_call]
dbhost=localhost
dbport=/var/lib/mysql/mysql.sock
dbtype=mysql
dbuser=asteriskuser
dbpassword=UQkaeNz
dbname=asteriskcdrdb
query=select date_format(calldate,'%d/%m/%Y') as date, date_format(calldate,'%H:%i:%S') as time, clid, src, dst, channel, dstchannel, uniqueid,duration,billsec,disposition,dcontext from cdr where ( (channel like '%/$EXTEN%' OR dstchannel like '%/$EXTEN%' ) AND ( DATE(calldate)>=(DATE_SUB(CURDATE(), INTERVAL DAYOFMONTH( CURDATE() )-1 DAY)) ) AND (src like '$NUM' OR clid like '$NUM' OR dst like '$NUM'))


[interval_history_call]
dbhost=localhost
dbport=/var/lib/mysql/mysql.sock
dbtype=mysql
dbuser=asteriskuser
dbpassword=UQkaeNz
dbname=asteriskcdrdb
query=select date_format(calldate,'%d/%m/%Y') as date, date_format(calldate,'%H:%i:%S') as time, clid, src, dst, channel, dstchannel, uniqueid,duration,billsec,disposition,dcontext from cdr where ( (channel like '%/$EXTEN%' OR dstchannel like '%/$EXTEN%' ) AND ( DATE(calldate)>='$DATE_FROM' AND DATE(calldate)<='$DATE_TO' ) AND (src like '$NUM' OR clid like '$NUM' OR dst like '$NUM'))

[cti_phonebook]
dbhost=localhost
dbport=/var/lib/mysql/mysql.sock
dbtype=mysql
dbuser=smsuser
dbpassword=smspass
dbname=nethcti
query=__HARD_CODED__

[day_switchboard_call]
dbhost=localhost
dbport=/var/lib/mysql/mysql.sock
dbtype=mysql
dbuser=asteriskuser
dbpassword=UQkaeNz
dbname=asteriskcdrdb
query=select date_format(calldate,'%d/%m/%Y') as date, date_format(calldate,'%H:%i:%S') as time, clid, src, dst, channel, dstchannel, dcontext, uniqueid,duration,billsec,disposition from cdr where ( DATE(calldate)='$DATE' AND (src like '$NUM' OR clid like '$NUM' OR dst like '$NUM'))

[current_week_switchboard_call]
dbhost=localhost
dbport=/var/lib/mysql/mysql.sock
dbtype=mysql
dbuser=asteriskuser
dbpassword=UQkaeNz
dbname=asteriskcdrdb
query=select date_format(calldate,'%d/%m/%Y') as date, date_format(calldate,'%H:%i:%S') as time, clid, src, dst, channel, dstchannel, dcontext, uniqueid,duration,billsec,disposition from cdr where (( DATE(calldate)>=(DATE_SUB(CURDATE(), INTERVAL DAYOFWEEK( CURDATE() )-2 DAY)) ) AND (src like '$NUM' OR clid like '$NUM' OR dst like '$NUM'))

[current_month_switchboard_call]
dbhost=localhost
dbport=/var/lib/mysql/mysql.sock
dbtype=mysql
dbuser=asteriskuser
dbpassword=UQkaeNz
dbname=asteriskcdrdb
query=select date_format(calldate,'%d/%m/%Y') as date, date_format(calldate,'%H:%i:%S') as time, clid, src, dst, channel, dstchannel, dcontext, uniqueid,duration,billsec,disposition from cdr where ( ( DATE(calldate)>=(DATE_SUB(CURDATE(), INTERVAL DAYOFMONTH( CURDATE() )-1 DAY)) ) AND (src like '$NUM' OR clid like '$NUM' OR dst like '$NUM'))

[interval_switchboard_call]
dbhost=localhost
dbport=/var/lib/mysql/mysql.sock
dbtype=mysql
dbuser=asteriskuser
dbpassword=UQkaeNz
dbname=asteriskcdrdb
query=select date_format(calldate,'%d/%m/%Y') as date, date_format(calldate,'%H:%i:%S') as time, clid, src, dst, channel, dstchannel, dcontext, uniqueid,duration,billsec,disposition from cdr where ( ( DATE(calldate)>='$DATE_FROM' AND DATE(calldate)<='$DATE_TO' ) AND (src like '$NUM' OR clid like '$NUM' OR dst like '$NUM'))


