{
   my $ports_str = $proxycti{TCPPorts} || "8080,8181";
   our @ports = split(',', $ports_str);
   our $fqdn = "${SystemName}.${DomainName}";
   our $proto = $proxycti{'Protocol'} || 'http';
   our $key = $modSSL{crt}
}
\{
    "websocket": \{
        "port":    "{$ports[1]}"
    \},
    "http_proxy": \{
        "port":       "{$ports[0]}",
        "proto":      "{$proto}",
        "hostname":   "{$fqdn}",
        "https_key":  "/etc/pki/tls/private/localhost.key",
        "https_cert": "/etc/pki/tls/certs/localhost.crt",
        "router": \{
            "{$fqdn}/sms":                "http://127.0.0.1:10012/sms",
            "{$fqdn}/static":             "http://127.0.0.1:10013",
            "{$fqdn}/postit":             "http://127.0.0.1:10004/postit",
            "{$fqdn}/astproxy":           "http://127.0.0.1:10010/astproxy",
            "{$fqdn}/custcard":           "http://127.0.0.1:10003/custcard",
            "{$fqdn}/phonebook":          "http://127.0.0.1:10001/phonebook",
            "{$fqdn}/streaming":          "http://127.0.0.1:10011/streaming",
            "{$fqdn}/voicemail":          "http://127.0.0.1:10008/voicemail",
            "{$fqdn}/callernote":         "http://127.0.0.1:10005/callernote",
            "{$fqdn}/historysms":         "http://127.0.0.1:10012/historysms",
            "{$fqdn}/historycall":        "http://127.0.0.1:10002/historycall",
            "{$fqdn}/histcallswitch":     "http://127.0.0.1:10002/histcallswitch",
            "{$fqdn}/authorization":      "http://127.0.0.1:10007/authorization",
            "{$fqdn}/configmanager":      "http://127.0.0.1:10006/configmanager",
            "{$fqdn}/historypostit":      "http://127.0.0.1:10004/historypostit",
            "{$fqdn}/histcallernote":     "http://127.0.0.1:10005/histcallernote",
            "{$fqdn}/authentication":     "http://127.0.0.1:10000/authentication",
            "{$fqdn}/all_historysms":     "http://127.0.0.1:10012/all_historysms",
            "{$fqdn}/all_historypostit":  "http://127.0.0.1:10004/all_historypostit",
            "{$fqdn}/all_histcallernote": "http://127.0.0.1:10005/all_histcallernote"
        \}
    \},
    "rest": \{
        "postit": \{
            "port":    "10004",
            "address": "localhost"
        \},
        "history": \{
            "port":    "10002",
            "address": "localhost"
        \},
        "caller_note": \{
            "port":    "10005",
            "address": "localhost"
        \},
        "customer_card": \{
            "port":    "10003",
            "address": "localhost"
        \},
        "phonebook": \{
            "port":    "10001",
            "address": "localhost"
        \},
        "authentication": \{
            "port":    "10000",
            "proto":   "http",
            "address": "localhost"
        \},
        "config_manager": \{
            "port":    "10006",
            "address": "localhost"
        \},
        "authorization": \{
            "port":    "10007",
            "address": "localhost"
        \},
        "voicemail": \{
            "port": "10008",
            "address": "localhost"
        \},
        "asterisk_proxy": \{
            "port": "10010",
            "address": "localhost"
        \},
        "streaming": \{
            "port": "10011",
            "address": "localhost"
        \},
        "sms": \{
            "port": "10012",
            "address": "localhost"
        \},
        "static": \{
            "port": "10013",
            "address": "localhost"
        \}
    \}
\}
